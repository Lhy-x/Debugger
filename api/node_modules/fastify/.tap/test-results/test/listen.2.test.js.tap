TAP version 14
# Subtest: register after listen using Promise.resolve()
    1..1
    ok 1 - resolved
ok 1 - register after listen using Promise.resolve() # time=12.496ms

# Subtest: double listen errors
    1..3
    ok 1 - should not error
    ok 2 - should be equal
    ok 3 - should be equal
ok 2 - double listen errors # time=7.912ms

# Subtest: double listen errors callback with (err, address)
    1..4
    ok 1 - should be equal
    ok 2 - should not error
    ok 3 - should be equal
    ok 4 - should be equal
ok 3 - double listen errors callback with (err, address) # time=3.208ms

# Subtest: nonlocalhost double listen errors callback with (err, address)
    1..4
    ok 1 - should be equal
    ok 2 - should not error
    ok 3 - should be equal
    ok 4 - should be equal
ok 4 - nonlocalhost double listen errors callback with (err, address) # time=1.632ms

# Subtest: listen twice on the same port
    1..4
    ok 1 - should be equal
    ok 2 - should not error
    ok 3 - should be equal
    ok 4 - should be equal
ok 5 - listen twice on the same port # time=8.433ms

# Subtest: listen twice on the same port callback with (err, address)
    1..4
    ok 1 - should be equal
    ok 2 - should not error
    ok 3 - should be equal
    ok 4 - should be equal
ok 6 - listen twice on the same port callback with (err, address) # time=7.988ms

1..6
